{
    "query_types": {
    "factura": ["factura", "pago", "deuda", "recibo", "cobro", "importe"],
    "incidencia_consulta": [
      "hay incidencias", "existen incidencias", "mostrar incidencias", 
      "listar incidencias", "ver incidencias", "muestra mis incidencias",
      "mis incidencias", "consultar incidencias", "consulta incidencias"
    ],
    "incidencia_creacion": ["reportar incidencia", "crear incidencia", "registrar incidencia", "nueva incidencia"],
    "abonado": ["abonado", "datos de abonado", "datos del abonado", "información del abonado", "cliente", "datos"]
  },
  "action_verbs": {
    "incidencia_creacion": ["reportar", "crear", "registrar", "abrir", "nueva","crea", "nueva incidencia"],
    "incidencia_consulta": ["ver", "mostrar", "listar", "buscar", "muestra", "consultar", "consulta"],
    "factura": ["pagar", "abonar", "facturar", "cobrar"]
  },
  "reference_indicators": [
    "este", "estos", "sus", "su", "mismo", "anterior", "anteriores",
    "y ahora", "y los", "y las", "otro", "otra", "y en", "ese", "esa", "por ultimo", "por último"
  ],
  "no_data_indicators": [
    "cómo", "como", "qué es", "que es", "explica", 
    "ayuda", "ejemplo", "manual", "instrucciones"
  ],
  "real_data_required": [
    "factura", "incidencia_consulta", "incidencia_creacion", "abonado"
  ],
  "detection_logic": {
    "question_starters": ["hay", "existen", "cuántas", "cuantas", "qué", "que", "lista", "listar", "muestra", "mostrar"],
    "referential_phrases": [
      "del abonado", "de abonado", "del dni", "con dni", "por dni",
      "asociadas al", "asociadas a", "relacionadas con"
    ],
    "creation_triggers": ["tengo", "quiero reportar", "quiero crear", "hay que", "necesito crear"]
  },
  "field_definitions": {
    "dni": {
      "patterns": [
        "\\b[0-9]{8}[A-Za-z]\\b",
        "dni:?\\s*([0-9]{8}[A-Za-z])"
      ],
      "required_for": ["abonado", "factura", "incidencia_creacion"],
      "description": "DNI del cliente"
    },
    "ubicacion": {
      "patterns": [
        "(?:en|de)\\s+([A-ZÁÉÍÓÚÑa-záéíóúñ\\s]+?)(?:\\s*(?:,|\\.|$|dni|descripci[oó]n))",
        "ubicaci[oó]n:?\\s+([A-ZÁÉÍÓÚÑa-záéíóúñ\\s]+?)(?:\\s*(?:,|\\.|$|dni|descripci[oó]n))"
      ],
      "required_for": ["incidencia_creacion"],
      "description": "Ubicación para consultas de incidencias"
    },
    "descripcion": {
      "patterns": [
        "descripci[oó]n:?\\s+(.+?)(?:\\s*(?:,|\\.|$))",
        "(?:[:,]\\s*)([^,\\.]+?)(?:\\s*(?:,|\\.|$))"
      ],
      "required_for": ["incidencia_creacion"],
      "description": "Descripción de la incidencia"
    },
    "fecha": {
      "patterns": [
        "\\b(\\d{1,2}[-/]\\d{1,2}[-/]\\d{2,4})\\b",
        "fecha:?\\s+(\\d{1,2}[-/]\\d{1,2}[-/]\\d{2,4})"
      ],
      "required_for": [],
      "description": "Fecha para filtrar consultas"
    }
  },
  "field_rules": {
    "incidencia_creacion": {
      "inherit": [],
      "remove": ["dni"]
    },
    "factura_consulta": {
      "inherit": ["dni"],
      "remove": []
    },
    "incidencia_consulta": {
      "inherit": ["dni", "ubicacion"],
      "remove": []
    },
    "abonado": {
      "inherit": ["dni"],
      "remove": []
    }
  }
}
